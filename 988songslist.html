<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1280, initial-scale=1.0">
  <title>Playlist 988 FM</title>
  <style>
    body { margin:0; background:#000; display:flex; justify-content:center; align-items:center; height:100vh; color:#fff; font-family:"Microsoft YaHei",Arial,sans-serif; }
    .screen { width:1280px; height:720px; background:#111; border:8px solid #ff4081; border-radius:25px; box-shadow:0 0 60px rgba(255,64,129,0.5); position:relative; overflow:hidden; }
    .logo { position:absolute; top:30px; left:40px; width:180px; }
    .title { position:absolute; top:50px; right:50px; font-size:42px; font-weight:bold; color:#ff66a3; text-shadow:0 0 15px #ff3399; letter-spacing:2px; }
    .playlist-box { position:absolute; top:160px; left:80px; width:1120px; height:500px; background:rgba(255,255,255,0.05); border-radius:20px; padding:30px; overflow-y:auto; backdrop-filter:blur(6px); }
    .song { font-size:26px; line-height:1.8; padding-left:10px; border-left:4px solid #ff66a3; margin-bottom:12px; }
    .footer { position:absolute; bottom:15px; right:25px; font-size:14px; color:#aaa; }
  </style>
</head>
<body>
  <div class="screen">
    <img src="https://raw.githubusercontent.com/SGolden58/svg/main/Logo/988.png" alt="988 FM Logo" class="logo">
    <div class="title">üéµ Playlist 988 FM</div>
    <div class="playlist-box" id="playlistBox">
      <div class="song">Âä†ËΩΩ‰∏≠‚Ä¶ Loading latest songs‚Ä¶</div>
    </div>
    <div class="footer">
      Source: <a href="https://sgolden58.github.io/radio/epg.xml" target="_blank" style="color:#ff80bf;">EPG XML</a>
    </div>
  </div>

  <script>
    async function updatePlaylist() {
      try {
        const proxy = "https://api.allorigins.win/raw?url=";
        const target = "https://online-radio.my/12-988-fm.html";
        const res = await fetch(proxy + encodeURIComponent(target));
        const html = await res.text();

        const temp = document.createElement("div");
        temp.innerHTML = html;

        // Adjust this according to actual site structure
        // Here we take all text nodes with ‚Äú-‚Äù inside a main container
        const texts = Array.from(temp.querySelectorAll("body *"))
          .map(el => el.innerText.trim())
          .filter(t => t && / - /.test(t) && t.length < 100);

        const songs = [...new Set(texts)].slice(0,10);

        const box = document.getElementById("playlistBox");
        box.innerHTML = "";
        if (songs.length === 0) {
          box.innerHTML = "<div class='song'>Êú™ÊäìÂèñÂà∞Ê≠åÊõ≤ / No songs found.</div>";
        } else {
          songs.forEach(s => {
            const div = document.createElement("div");
            div.className = "song";
            div.textContent = s;
            box.appendChild(div);
          });
        }
      } catch (err) {
        console.error("Fetch error:", err);
        const box = document.getElementById("playlistBox");
        box.innerHTML = "<div class='song'>Êó†Ê≥ïÂä†ËΩΩÊí≠ÊîæÂàóË°® / Unable to load playlist.</div>";
      }
    }

    updatePlaylist();
    setInterval(updatePlaylist, 60000);
  </script>
</body>
</html>
